# -*- coding: utf-8 -*-
"""
Created on Fri Jun 15 14:09:08 2012

解析2642项目中上位机与采集工作站通讯的字节数组

@author: 陈良
"""

import re
import os
import NumberUtils
import ParseBytesFrameUtils

class ParserFor2642(ParseBytesFrameUtils.ParseBytesFrameUtils):
    """解析2642项目中上位机与采集工作站通讯的字节数组"""
    
    CommandIDBase = 1000
    CommandID_DownloadSampleConfig = CommandIDBase + 30
    CommandID_UploadData2DB = CommandIDBase + 72
    CommandID2Description = {
        CommandID_DownloadSampleConfig:"下载采集配置文件",
        CommandID_UploadData2DB:"上传数据到数据库，包括：趋势数据（温度、电流等没有波形测点数据）、波形数据（1维，2维等振动测点数据）、报警事件、报警数据。",
    }
    
    StructTypeIDBase = 1000
    StructTypeID_TimeWaveData_1D = StructTypeIDBase + 2
    StructTypeID_SampleStationConfigData = StructTypeIDBase + 115
    StructTypeID2Description = {
        StructTypeID_TimeWaveData_1D:"一维时间波形数据",
        StructTypeID_SampleStationConfigData:"采集工作站配置数据",
    }
    
    def __init__(self, frameHexString,split):
        '''使用一个完整的帧来初始化对象.'''
        frameHexBytes = []
        if len(split) != 0:
            frameHexBytes = frameHexString.split(split)
        else:
            frameHexBytes = [frameHexString[i+i:i+i+2] for i in range(int(len(frameHexString) / 2))]
        
        super(ParserFor2642, self).__init__(frameHexBytes)
        NumberUtils.isBigEndian = False

    def printParseResult(self):
        '''打印解析结果.'''
        
        # 包头
        self.printBytesData(2, "Head")
        
        # 版本号
        self.printIntData(4, "Version")

        # 包体长度
        frameDataLength = self.printIntData(4, "Length")[1]
        
        # first crc
        self.printBytesData(1, "First crc")
        
        # 命令类型
        (cmdBytes, cmdString, cmdID) = self.getIntData(4)        
        print ("cmdID: %d(0x%s, %s)" % (cmdID, cmdString, self.getCommandIDDescription(cmdID)))
        
        # 结构类型
        (structBytes, structString, structID) = self.getIntData(4)
        print ("structID: %d(0x%s, %s)" % (structID, structString, self.getStructTypeIDDescription(structID)))
        
        # 返回false表示不支持的结构ID，则打印除了命令类型ID、结构类型ID之后的数据字节数组
        if ( not self.printStruct(structID) ):
            # unknown struct data
            self.printBytesData(frameDataLength - 4 - 4, "unknown struct data")
        
        self.printFollowingTail()
        
        # second crc
        print ("Second crc: " + str(self.frameHexBytes[-3]))
        
        # 包尾
        print ("Tail: " + str(self.frameHexBytes[-2:]))
        
    def printStruct(self, structID):
        """打印结构"""
        printHandlers = {
            ParserFor2642.StructTypeID_TimeWaveData_1D: lambda: self.printTimeWaveData1DStruct(),
            ParserFor2642.StructTypeID_SampleStationConfigData: lambda: self.printSampleStationConfigDataStruct(),
            };
        #if(printHandlers.has_key(structID)):
        if(structID in printHandlers):
            printHandlers[structID]()
            return True
        else:
            print ("invalid struct id %d" % structID)
            return False
    
    def printSampleStationConfigDataStruct(self):
        """打印StructTypeID_SampleStationConfigData结构"""
        # IPAddress.Count
        self.printIntData(4, "IPAddress.Count")

        # IPAddress.Data
        self.printBytesData(32, "IPAddress.Data")
        
        # DataSamplerPort
        self.printIntData(4, "DataSamplerPort")
        
        # UploadDBWaveIntervalInSecond
        self.printIntData(4, "UploadDBWaveIntervalInSecond")
        
        # UploadDBStaticIntervalInSecond
        self.printIntData(4, "UploadDBStaticIntervalInSecond")
        
        # PointConfigCount
        pointConfigCount = self.printIntData(4, "PointConfigCount")[1]
        
        # PointConfigData
        for i in range(0, pointConfigCount):
            self.printPointConfigDataStruct()
            
        # ChannelConfigCount
        channelConfigCount = self.printIntData(4, "ChannelConfigCount")[1]
        
        # ChannelConfigData
        for i in range(0, channelConfigCount):
            self.printChannelConfigDataStruct()

    def printChannelConfigDataStruct(self):
        """打印ChannelConfigData结构"""
        # ChannelConfigData.ChannelIdentifier
        self.printBytesData(12, "ChannelConfigData.ChannelIdentifier")

        # ChannelCD
        self.printChannelCD("ChannelConfigData.ChannelCD")
        
        # RevChannelCD
        self.printChannelCD("ChannelConfigData.RevChannelCD")
        
        # KeyPhaserRevChannelCD
        self.printChannelCD("ChannelConfigData.KeyPhaserRevChannelCD")
        
        # SwitchChannelCD
        self.printChannelCD("ChannelConfigData.SwitchChannelCD")
        
        # ChannelConfigData.SwitchTriggerStatus
        self.printIntData(4, "ChannelConfigData.SwitchTriggerStatus(开关量触发状态，1：开，0：关)")
        
        # ChannelConfigData.SwitchTriggerMethod
        self.printIntData(4, "ChannelConfigData.SwitchTriggerMethod(开关量触发方式，1：高电平触发，0：低电平触发)")

        # ChannelConfigData.ChannelTypeID
        self.printIntData(4, "ChannelConfigData.ChannelTypeID(通道类型ID，1：动态通道，2：静态通道，3：转速通道，5：开关量通道)")
        
        # ChannelConfigData.ChannelNumber
        self.printIntData(4, "ChannelConfigData.ChannelNumber")
        
        # ChannelConfigData.SignalTypeID
        self.printIntData(4, "ChannelConfigData.SignalTypeID")
        
        # ChannelConfigData.SampleFreq
        self.printFloatData("ChannelConfigData.SampleFreq")
        
        # ChannelConfigData.MultiFreq
        self.printIntData(4, "ChannelConfigData.MultiFreq")
        
        # ChannelConfigData.DataLength
        self.printIntData(4, "ChannelConfigData.DataLength")
        
        # ChannelConfigData.AverageCount
        self.printIntData(4, "ChannelConfigData.AverageCount")
        
        # ChannelConfigData.RevLowThreshold
        self.printIntData(4, "ChannelConfigData.RevLowThreshold")
        
        # ChannelConfigData.RevHighThreshold
        self.printIntData(4, "ChannelConfigData.RevHighThreshold")
        
        # ChannelConfigData.ReferenceRev
        self.printIntData(4, "ChannelConfigData.ReferenceRev")
        
        # ChannelConfigData.RevTypeID
        self.printIntData(4, "ChannelConfigData.RevTypeID")
        
        # ChannelConfigData.RevRatio
        self.printFloatData("ChannelConfigData.RevRatio")
        
        # ChannelConfigData.ScaleFactor
        self.printFloatData("ChannelConfigData.ScaleFactor")
        
        # ChannelConfigData.VoltageOffset
        self.printFloatData("ChannelConfigData.VoltageOffset")
        
        # ChannelConfigData.AlmCountDataCount
        almCountDataCount = self.printIntData(4, "ChannelConfigData.AlmCountDataCount")[1]
        
        # AlmCountData
        for i in range(0, almCountDataCount):
            self.printAlmCountDataStruct()

    def printAlmCountDataStruct(self):
        """打印AlmCountData结构"""
        # AlmCountData.AlmSourceID
        self.printIntData(4, "AlmCountData.AlmSourceID")
        
        # AlmCountData.AlmCount
        self.printIntData(4, "AlmCountData.AlmCount")
        
        
    def printPointConfigDataStruct(self):
        """打印PointConfigData结构"""
        # PointConfigData.PointID
        self.printIntData(4, "PointConfigData.PointID")
        
        # PointConfigData.MeasValueTypeID
        self.printIntData(4, "PointConfigData.MeasValueTypeID(13：有效值、11：峰值、12：峰峰值、15：平均值、16：波形指标)")
        
        # PointConfigData.Dimension
        self.printIntData(4, "PointConfigData.Dimension")
        
        # PointConfigData.ChannelCDs
        self.printChannelCD("PointConfigData.ChannelCDs")
        
        # PointConfigData.AlmStand_CommonSettingCount
        almStand_CommonSettingCount = self.printIntData(4, "PointConfigData.AlmStand_CommonSettingCount")[1]
        
        # AlmStand_CommonSettingDataStruct
        for i in range(0, almStand_CommonSettingCount):
            self.printAlmStand_CommonSettingDataStruct()

    def printAlmStand_CommonSettingDataStruct(self):
        """打印AlmStand_CommonSettingData结构"""
        # AlmStand_CommonSettingData.AlmSourceID
        self.printIntData(4, "AlmStand_CommonSettingData.AlmSourceID")

        # AlmStand_CommonSettingData.AlmTypeID
        self.printIntData(4, "AlmStand_CommonSettingData.AlmTypeID")
        
        # AlmStand_CommonSettingData LowLimits HighLimits
        self.printNullableSingleData("AlmStand_CommonSettingData.LowLimits[0]")
        self.printNullableSingleData("AlmStand_CommonSettingData.LowLimits[1]")
        self.printNullableSingleData("AlmStand_CommonSettingData.HighLimits[0]")
        self.printNullableSingleData("AlmStand_CommonSettingData.HighLimits[1]")

    def printTimeWaveData1DStruct(self):
        """打印StructTypeID_TimeWaveData_1D结构"""
        
        self.printHistoryDataHeadStruct()
        
        self.printVarByteArrayWaveStruct()
    
    def printFollowingTail(self):
        """打印打印接下来的crc和包尾"""
        
        # second crc
        self.printBytesData(1, "Following second crc")
        
        # Tail
        self.printBytesData(2, "Following tail")
        
        print ("Index: %d, ByteCount: %d" % ( self.index, len( self.frameHexBytes ) ))
        
    def printHistoryDataHeadStruct(self):
        """打印HistoryDataHead结构"""
        # 同步采集的唯一ID
        self.printBytesData(20, "SynUniqueID")
        #syncUniqueIDBytes = self.getData(20)
        #print "SyncUniqueID: " + str(syncUniqueIDBytes)
        
        # PointID
        self.printIntData(4, "PointID")

        # DataUsageID
        self.printIntData(4, "DataUsageID 0：监测、1：存储到数据库")
        
        # AlmLevelID
        self.printIntData(4, "AlmLevelID")
        
        # SampleTime
        print ("Sample Time: %d-%d-%d %d %d:%d:%d" % (self.getIntData(2)[2], self.getIntData(1)[2], self.getIntData(1)[2], self.getIntData(1)[2], self.getIntData(1)[2], self.getIntData(1)[2], self.getIntData(1)[2]))
        
        # DataLength
        self.printIntData(4, "DataLength")
        
        # Rev
        self.printIntData(4, "Rev")

        # SampleFreq
        self.printFloatData("SampleFreq")
        
        # MultiFreq
        self.printIntData(4, "MultiFreq")
        
        # MeasurementValueCount
        measurementValueCount = self.printIntData(4, "MeasurementValueCount")[1]
        
        # MeasurementValue
        for i in range(0, measurementValueCount):
            self.printFloatData("MeasurementValue " + str(i + 1) )
        
        # AxisOffsetValueCount
        axisOffsetValueCount = self.printIntData(4, "AxisOffsetValueCount")[1]
        
        # AxisOffsetValue
        if( 0 < axisOffsetValueCount ):
            for i in range(0, axisOffsetValueCount):
                self.printFloatData("AxisOffsetValue " + str(i + 1) )

    def printChannelCD(self, dataName):
        # ChannelCD
        bytesValue = self.getData(8)
        strValue = NumberUtils.hexBytes2String(bytesValue)
        print (dataName + ": %s(%s)" %( strValue, str(bytesValue) ))
        return (bytesValue, strValue)

    def printVarByteArrayWaveStruct(self):
        """打印VarByteArrayWave结构"""
        
        # VarByteArrayWave.WaveScale
        self.printFloatData("VarByteArrayWave.WaveScale")
        
        # VarByteArry.ItemLength
        self.printIntData(4, "VarByteArry.ItemLength")
                
        # VarByteArry.ByteLength
        byteLength = self.printIntData(4, "VarByteArry.ByteLength")[1]
        
        # VarByteArry.Data
        if( 0 < byteLength ):
            self.printBytesData(byteLength, "VarByteArry.Data")
            
    def printNullableSingleData(self, dataName):
        """打印NullableSingle数据的值"""
        (intString, intValue) = self.getIntData(4)[1:]
        (floatString, floatValue) = self.getFloatData()[1:]
        print (dataName + ": %d(0x%s) %f(0x%s)" % (intValue, intString, floatValue, floatString))
        return (intValue, floatValue)

    def getCommandIDDescription(self, ID):
        """获得命令ID的描述"""
        return self.getIDDescription(ParserFor2642.CommandID2Description, ID)
        
    def getStructTypeIDDescription(self, ID):
        """获得命令ID的描述"""
        return self.getIDDescription(ParserFor2642.StructTypeID2Description, ID)

if __name__ == '__main__':
    
    # 将一维时间波形数据上传到数据库
    #frameHexString = """62-65-01-00-00-00-5C-10-00-00-4D-30-04-00-00-EA-03-00-00-DC-07-06-0F-0D-0F-16-3A-14-0B-09-00-0A-03-04-31-60-61-06-A0-B5-42-0F-00-01-00-00-00-00-00-00-00-DC-07-06-0F-0D-0F-16-3A-00-08-00-00-00-00-00-00-00-00-20-45-00-00-00-00-01-00-00-00-DF-F8-07-40-01-00-00-00-00-00-80-3F-0A-D7-43-3F-02-00-00-00-00-08-00-00-01-00-00-00-01-00-02-00-00-00-00-00-FF-FF-01-00-00-00-FF-FF-00-00-00-00-03-00-00-00-00-00-01-00-02-00-01-00-00-00-01-00-02-00-01-00-00-00-03-00-04-00-03-00-02-00-03-00-02-00-01-00-02-00-02-00-02-00-01-00-02-00-03-00-01-00-01-00-03-00-02-00-02-00-03-00-03-00-02-00-02-00-01-00-FF-FF-00-00-FF-FF-FE-FF-FE-FF-02-00-02-00-02-00-00-00-FF-FF-01-00-00-00-02-00-00-00-02-00-01-00-01-00-00-00-01-00-00-00-FF-FF-00-00-01-00-00-00-00-00-02-00-02-00-02-00-02-00-00-00-02-00-02-00-02-00-03-00-01-00-00-00-04-00-03-00-03-00-03-00-03-00-01-00-02-00-02-00-03-00-02-00-02-00-02-00-03-00-04-00-04-00-03-00-04-00-04-00-03-00-06-00-07-00-07-00-06-00-05-00-05-00-03-00-05-00-04-00-04-00-05-00-04-00-02-00-04-00-05-00-04-00-05-00-05-00-02-00-04-00-01-00-02-00-02-00-01-00-00-00-01-00-02-00-06-00-05-00-05-00-04-00-03-00-04-00-05-00-06-00-04-00-05-00-04-00-04-00-02-00-02-00-03-00-02-00-01-00-02-00-FF-FF-03-00-01-00-05-00-02-00-05-00-02-00-00-00-02-00-00-00-00-00-02-00-01-00-FF-FF-00-00-00-00-00-00-FE-FF-FF-FF-00-00-FE-FF-FF-FF-01-00-00-00-FF-FF-FF-FF-FE-FF-00-00-00-00-FC-FF-FF-FF-00-00-00-00-FF-FF-02-00-01-00-00-00-01-00-02-00-01-00-01-00-01-00-05-00-02-00-02-00-04-00-01-00-03-00-02-00-00-00-04-00-03-00-03-00-03-00-02-00-00-00-02-00-00-00-FF-FF-01-00-02-00-02-00-00-00-02-00-00-00-01-00-FF-FF-00-00-FF-FF-FF-FF-FF-FF-01-00-01-00-02-00-FF-FF-FE-FF-FF-FF-FF-FF-00-00-02-00-04-00-FF-FF-FF-FF-00-00-02-00-03-00-00-00-02-00-05-00-01-00-02-00-03-00-01-00-03-00-03-00-02-00-02-00-02-00-02-00-05-00-02-00-03-00-06-00-02-00-04-00-02-00-00-00-03-00-04-00-03-00-02-00-02-00-03-00-00-00-00-00-00-00-02-00-01-00-FE-FF-FE-FF-01-00-02-00-00-00-02-00-01-00-00-00-FF-FF-FE-FF-01-00-01-00-00-00-FE-FF-00-00-00-00-FF-FF-FF-FF-02-00-FF-FF-00-00-FF-FF-FE-FF-00-00-FE-FF-FC-FF-FF-FF-FD-FF-FB-FF-FD-FF-FE-FF-FF-FF-FF-FF-FE-FF-FF-FF-00-00-FF-FF-00-00-00-00-FE-FF-FE-FF-00-00-FE-FF-FE-FF-00-00-00-00-FF-FF-01-00-01-00-00-00-02-00-02-00-05-00-02-00-00-00-02-00-03-00-04-00-01-00-04-00-02-00-03-00-03-00-04-00-01-00-00-00-03-00-01-00-04-00-04-00-02-00-03-00-01-00-07-00-01-00-04-00-04-00-02-00-04-00-03-00-05-00-03-00-02-00-05-00-05-00-07-00-04-00-03-00-06-00-05-00-04-00-05-00-04-00-07-00-05-00-03-00-03-00-06-00-02-00-05-00-04-00-03-00-03-00-04-00-02-00-02-00-01-00-02-00-03-00-03-00-02-00-02-00-02-00-00-00-02-00-00-00-00-00-FF-FF-02-00-01-00-00-00-00-00-00-00-00-00-01-00-04-00-01-00-01-00-03-00-03-00-02-00-03-00-02-00-03-00-04-00-03-00-03-00-01-00-03-00-04-00-03-00-02-00-02-00-03-00-01-00-FF-FF-02-00-00-00-00-00-03-00-01-00-00-00-01-00-02-00-02-00-FF-FF-00-00-00-00-01-00-01-00-FE-FF-00-00-00-00-01-00-00-00-FF-FF-00-00-01-00-01-00-00-00-01-00-05-00-01-00-03-00-02-00-00-00-02-00-01-00-00-00-00-00-02-00-04-00-01-00-00-00-01-00-01-00-00-00-02-00-00-00-05-00-04-00-04-00-05-00-04-00-04-00-05-00-03-00-01-00-02-00-00-00-00-00-00-00-00-00-FF-FF-FF-FF-00-00-00-00-01-00-FD-FF-FF-FF-FF-FF-FF-FF-FC-FF-FE-FF-FF-FF-FF-FF-FD-FF-FE-FF-FC-FF-FF-FF-00-00-FF-FF-FF-FF-02-00-00-00-01-00-01-00-02-00-02-00-01-00-01-00-00-00-01-00-02-00-00-00-01-00-01-00-03-00-02-00-01-00-02-00-00-00-00-00-FF-FF-01-00-02-00-01-00-00-00-00-00-00-00-01-00-FF-FF-03-00-01-00-00-00-03-00-00-00-FE-FF-02-00-01-00-00-00-01-00-02-00-FF-FF-00-00-02-00-FF-FF-FF-FF-02-00-03-00-02-00-03-00-00-00-00-00-05-00-03-00-05-00-04-00-05-00-05-00-03-00-02-00-02-00-02-00-03-00-02-00-05-00-05-00-04-00-03-00-05-00-05-00-00-00-03-00-03-00-04-00-03-00-03-00-05-00-01-00-03-00-05-00-05-00-04-00-04-00-04-00-05-00-03-00-02-00-04-00-02-00-02-00-00-00-00-00-02-00-00-00-00-00-00-00-01-00-00-00-00-00-FF-FF-01-00-01-00-FE-FF-01-00-03-00-02-00-05-00-04-00-03-00-03-00-07-00-05-00-04-00-07-00-05-00-04-00-05-00-04-00-04-00-04-00-02-00-03-00-02-00-05-00-07-00-04-00-04-00-02-00-03-00-03-00-00-00-00-00-00-00-00-00-03-00-02-00-FE-FF-00-00-FF-FF-02-00-01-00-00-00-02-00-02-00-01-00-02-00-03-00-00-00-00-00-FF-FF-FF-FF-FF-FF-FE-FF-FC-FF-FF-FF-00-00-FF-FF-00-00-00-00-00-00-FE-FF-00-00-FE-FF-00-00-FE-FF-03-00-02-00-00-00-00-00-00-00-02-00-FF-FF-03-00-01-00-00-00-04-00-03-00-03-00-03-00-01-00-02-00-02-00-FF-FF-00-00-00-00-FF-FF-02-00-01-00-FF-FF-01-00-FF-FF-00-00-FE-FF-00-00-00-00-FF-FF-FE-FF-FE-FF-FE-FF-FF-FF-FE-FF-FF-FF-02-00-FF-FF-02-00-FF-FF-FF-FF-FF-FF-01-00-FF-FF-01-00-00-00-01-00-02-00-FF-FF-00-00-00-00-00-00-00-00-00-00-00-00-03-00-00-00-00-00-02-00-00-00-01-00-FE-FF-FF-FF-00-00-FF-FF-00-00-01-00-00-00-00-00-00-00-FE-FF-00-00-FE-FF-FE-FF-00-00-00-00-00-00-00-00-02-00-01-00-00-00-00-00-01-00-00-00-00-00-01-00-00-00-02-00-00-00-00-00-02-00-00-00-01-00-01-00-01-00-FF-FF-01-00-01-00-00-00-02-00-00-00-00-00-01-00-00-00-FF-FF-FF-FF-00-00-FE-FF-FF-FF-01-00-00-00-01-00-FF-FF-FF-FF-01-00-01-00-01-00-FF-FF-00-00-FF-FF-01-00-01-00-02-00-02-00-05-00-04-00-02-00-03-00-02-00-00-00-04-00-06-00-07-00-05-00-08-00-07-00-06-00-07-00-07-00-04-00-06-00-05-00-07-00-0A-00-09-00-06-00-08-00-06-00-08-00-0A-00-0A-00-0A-00-09-00-07-00-08-00-09-00-09-00-08-00-08-00-09-00-06-00-08-00-07-00-06-00-05-00-06-00-04-00-03-00-04-00-04-00-03-00-02-00-02-00-00-00-01-00-01-00-02-00-01-00-02-00-05-00-03-00-02-00-00-00-02-00-00-00-00-00-00-00-FF-FF-FE-FF-00-00-00-00-FF-FF-03-00-00-00-01-00-00-00-01-00-01-00-04-00-00-00-01-00-03-00-02-00-03-00-01-00-01-00-02-00-00-00-01-00-02-00-02-00-03-00-04-00-04-00-05-00-03-00-03-00-02-00-00-00-01-00-02-00-01-00-04-00-04-00-05-00-00-00-02-00-02-00-02-00-02-00-00-00-FE-FF-00-00-01-00-00-00-00-00-FE-FF-FF-FF-01-00-FF-FF-00-00-FE-FF-FE-FF-00-00-00-00-FF-FF-FD-FF-FE-FF-FF-FF-FF-FF-02-00-00-00-00-00-FF-FF-03-00-02-00-00-00-02-00-01-00-01-00-02-00-02-00-02-00-03-00-00-00-01-00-01-00-00-00-00-00-01-00-01-00-00-00-01-00-03-00-01-00-02-00-01-00-02-00-FF-FF-01-00-FF-FF-00-00-01-00-01-00-03-00-FF-FF-FF-FF-01-00-00-00-FF-FF-00-00-00-00-FF-FF-01-00-01-00-03-00-02-00-03-00-02-00-04-00-FF-FF-00-00-02-00-02-00-01-00-04-00-02-00-00-00-03-00-04-00-03-00-02-00-01-00-01-00-02-00-03-00-03-00-02-00-04-00-03-00-02-00-04-00-03-00-00-00-02-00-02-00-00-00-FF-FF-02-00-00-00-01-00-01-00-00-00-00-00-00-00-01-00-01-00-02-00-01-00-01-00-02-00-02-00-02-00-02-00-01-00-04-00-00-00-02-00-02-00-01-00-02-00-00-00-02-00-00-00-02-00-02-00-01-00-01-00-00-00-01-00-00-00-00-00-00-00-01-00-01-00-01-00-FF-FF-01-00-FE-FF-00-00-FF-FF-03-00-00-00-00-00-00-00-00-00-FF-FF-FE-FF-FF-FF-00-00-FF-FF-FE-FF-FF-FF-00-00-00-00-FF-FF-FD-FF-FA-FF-FD-FF-FC-FF-FB-FF-FC-FF-FD-FF-FE-FF-FF-FF-FF-FF-FC-FF-FE-FF-00-00-FF-FF-FF-FF-00-00-00-00-FF-FF-00-00-00-00-FD-FF-FF-FF-00-00-00-00-00-00-00-00-FF-FF-FE-FF-00-00-FF-FF-FD-FF-FE-FF-00-00-00-00-00-00-01-00-02-00-00-00-01-00-03-00-03-00-01-00-01-00-02-00-02-00-02-00-04-00-04-00-04-00-02-00-04-00-02-00-02-00-03-00-05-00-03-00-02-00-04-00-02-00-03-00-07-00-03-00-05-00-08-00-06-00-05-00-06-00-04-00-03-00-03-00-04-00-04-00-05-00-03-00-04-00-02-00-03-00-05-00-05-00-05-00-04-00-04-00-04-00-03-00-06-00-07-00-06-00-07-00-07-00-06-00-05-00-04-00-03-00-05-00-04-00-05-00-05-00-03-00-04-00-05-00-04-00-01-00-03-00-01-00-03-00-02-00-03-00-03-00-04-00-03-00-06-00-05-00-05-00-03-00-03-00-06-00-04-00-05-00-04-00-05-00-05-00-06-00-07-00-06-00-04-00-04-00-03-00-03-00-01-00-04-00-02-00-03-00-03-00-00-00-01-00-00-00-04-00-03-00-04-00-00-00-02-00-00-00-01-00-01-00-00-00-00-00-FF-FF-FE-FF-FC-FF-FC-FF-FF-FF-FE-FF-FF-FF-FD-FF-FF-FF-00-00-00-00-FE-FF-00-00-01-00-00-00-FE-FF-01-00-00-00-FE-FF-01-00-FF-FF-00-00-00-00-00-00-00-00-00-00-00-00-01-00-00-00-FE-FF-02-00-01-00-02-00-02-00-00-00-03-00-02-00-03-00-02-00-04-00-00-00-02-00-FF-FF-01-00-FF-FF-02-00-04-00-03-00-02-00-03-00-02-00-03-00-04-00-02-00-02-00-04-00-02-00-02-00-03-00-02-00-03-00-04-00-05-00-05-00-05-00-04-00-03-00-04-00-05-00-04-00-03-00-03-00-01-00-03-00-03-00-FF-FF-01-00-00-00-01-00-02-00-00-00-02-00-02-00-03-00-04-00-03-00-04-00-02-00-03-00-02-00-06-00-03-00-02-00-01-00-02-00-02-00-01-00-02-00-02-00-01-00-FF-FF-02-00-02-00-02-00-00-00-02-00-FE-FF-01-00-02-00-01-00-02-00-01-00-00-00-FF-FF-02-00-00-00-FD-FF-FF-FF-FF-FF-FE-FF-01-00-00-00-00-00-00-00-01-00-02-00-02-00-02-00-02-00-FE-FF-00-00-02-00-00-00-00-00-01-00-01-00-02-00-02-00-04-00-04-00-01-00-04-00-05-00-03-00-01-00-03-00-02-00-02-00-03-00-FF-FF-00-00-00-00-01-00-FF-FF-00-00-00-00-00-00-01-00-04-00-01-00-00-00-FF-FF-FD-FF-01-00-00-00-00-00-FF-FF-01-00-00-00-01-00-02-00-00-00-01-00-00-00-FF-FF-01-00-01-00-03-00-01-00-02-00-FE-FF-02-00-FF-FF-03-00-03-00-00-00-02-00-02-00-02-00-03-00-04-00-05-00-04-00-03-00-01-00-03-00-03-00-01-00-FF-FF-00-00-03-00-03-00-01-00-03-00-01-00-02-00-01-00-FF-FF-02-00-02-00-03-00-00-00-00-00-00-00-00-00-03-00-01-00-FF-FF-01-00-01-00-00-00-01-00-01-00-01-00-FE-FF-00-00-01-00-03-00-FF-FF-01-00-01-00-00-00-01-00-02-00-02-00-02-00-02-00-04-00-04-00-03-00-07-00-05-00-03-00-02-00-03-00-03-00-02-00-03-00-02-00-03-00-03-00-01-00-01-00-00-00-03-00-03-00-07-00-04-00-06-00-03-00-01-00-00-00-01-00-04-00-02-00-02-00-00-00-00-00-00-00-FF-FF-03-00-01-00-FF-FF-FF-FF-02-00-00-00-02-00-00-00-00-00-04-00-01-00-02-00-02-00-03-00-02-00-03-00-FF-FF-03-00-01-00-03-00-02-00-01-00-02-00-04-00-02-00-04-00-03-00-05-00-03-00-03-00-04-00-05-00-07-00-02-00-03-00-04-00-01-00-04-00-02-00-03-00-01-00-03-00-05-00-01-00-03-00-01-00-04-00-03-00-02-00-FF-FF-FF-FF-00-00-01-00-01-00-FF-FF-02-00-00-00-01-00-02-00-00-00-FE-FF-FE-FF-01-00-00-00-00-00-00-00-00-00-FF-FF-01-00-02-00-00-00-00-00-FE-FF-FE-FF-01-00-FE-FF-00-00-FF-FF-00-00-00-00-01-00-00-00-01-00-01-00-00-00-02-00-00-00-00-00-00-00-FF-FF-00-00-FF-FF-FF-FF-00-00-00-00-FF-FF-01-00-00-00-00-00-00-00-FF-FF-FF-FF-02-00-00-00-00-00-03-00-02-00-FF-FF-00-00-01-00-02-00-02-00-00-00-01-00-02-00-00-00-03-00-02-00-02-00-02-00-04-00-04-00-04-00-04-00-04-00-03-00-05-00-03-00-04-00-03-00-04-00-03-00-05-00-02-00-03-00-03-00-00-00-03-00-04-00-04-00-01-00-04-00-04-00-02-00-03-00-00-00-02-00-03-00-01-00-FF-FF-02-00-02-00-02-00-05-00-02-00-01-00-00-00-01-00-00-00-03-00-03-00-00-00-00-00-FF-FF-FF-FF-00-00-05-00-02-00-01-00-02-00-FF-FF-00-00-00-00-00-00-01-00-00-00-FE-FF-00-00-01-00-01-00-02-00-FE-FF-01-00-02-00-01-00-02-00-00-00-FF-FF-00-00-FE-FF-FF-FF-02-00-03-00-03-00-02-00-00-00-02-00-FF-FF-00-00-00-00-01-00-00-00-03-00-02-00-02-00-03-00-01-00-04-00-01-00-05-00-08-00-04-00-05-00-06-00-03-00-06-00-05-00-08-00-07-00-05-00-05-00-04-00-04-00-04-00-02-00-03-00-01-00-06-00-05-00-03-00-05-00-04-00-04-00-03-00-05-00-03-00-04-00-04-00-04-00-05-00-04-00-02-00-05-00-05-00-02-00-04-00-01-00-04-00-02-00-01-00-02-00-01-00-00-00-FF-FF-00-00-04-00-01-00-02-00-01-00-03-00-02-00-04-00-04-00-06-00-04-00-02-00-03-00-02-00-03-00-04-00-04-00-04-00-03-00-04-00-03-00-01-00-00-00-03-00-01-00-00-00-01-00-FD-FF-00-00-00-00-FE-FF-01-00-02-00-00-00-01-00-00-00-01-00-03-00-03-00-05-00-01-00-02-00-03-00-03-00-04-00-00-00-00-00-00-00-00-00-01-00-01-00-02-00-00-00-00-00-FE-FF-01-00-FF-FF-FF-FF-00-00-FD-FF-FF-FF-FD-FF-FD-FF-FC-FF-FF-FF-FF-FF-FF-FF-00-00-FF-FF-FE-FF-00-00-01-00-FE-FF-01-00-FF-FF-00-00-FF-FF-00-00-FC-FF-FE-FF-FC-FF-FF-FF-FF-FF-FE-FF-FF-FF-FE-FF-FF-FF-FE-FF-FE-FF-FD-FF-FE-FF-FC-FF-FD-FF-FF-FF-FE-FF-FE-FF-00-00-00-00-FF-FF-FE-FF-FE-FF-00-00-FC-FF-FD-FF-00-00-00-00-00-00-02-00-FE-FF-FF-FF-FF-FF-FF-FF-01-00-FE-FF-00-00-00-00-01-00-00-00-FF-FF-00-00-00-00-FF-FF-FE-FF-01-00-01-00-FF-FF-FE-FF-00-00-00-00-FF-FF-FE-FF-FE-FF-FF-FF-01-00-FE-FF-01-00-01-00-02-00-02-00-00-00-02-00-02-00-03-00-02-00-00-00-FF-FF-02-00-04-00-00-00-01-00-01-00-04-00-03-00-02-00-05-00-02-00-02-00-03-00-04-00-02-00-03-00-00-00-02-00-02-00-03-00-04-00-04-00-04-00-05-00-06-00-04-00-03-00-05-00-07-00-04-00-06-00-07-00-04-00-07-00-06-00-08-00-05-00-04-00-07-00-06-00-07-00-06-00-04-00-03-00-04-00-05-00-05-00-02-00-04-00-06-00-04-00-04-00-04-00-05-00-06-00-05-00-07-00-04-00-06-00-07-00-05-00-05-00-05-00-06-00-04-00-08-00-07-00-08-00-08-00-06-00-07-00-08-00-05-00-06-00-06-00-06-00-07-00-06-00-04-00-05-00-07-00-06-00-05-00-04-00-02-00-04-00-03-00-05-00-04-00-05-00-04-00-03-00-02-00-02-00-04-00-01-00-03-00-02-00-00-00-01-00-01-00-00-00-01-00-02-00-00-00-01-00-00-00-FF-FF-00-00-FF-FF-00-00-00-00-FF-FF-00-00-00-00-00-00-02-00-01-00-00-00-03-00-01-00-01-00-01-00-00-00-02-00-00-00-03-00-FF-FF-00-00-03-00-04-00-00-00-00-00-02-00-02-00-00-00-00-00-00-00-01-00-02-00-04-00-00-00-03-00-02-00-03-00-01-00-00-00-01-00-01-00-02-00-00-00-00-00-02-00-02-00-00-00-FF-FF-FF-FF-FE-FF-FF-FF-FE-FF-FF-FF-00-00-FE-FF-FF-FF-FF-FF-FF-FF-00-00-00-00-FE-FF-FF-FF-01-00-00-00-00-00-00-00-03-00-00-00-01-00-FE-FF-01-00-00-00-00-00-02-00-00-00-02-00-02-00-02-00-01-00-01-00-00-00-02-00-00-00-FF-FF-01-00-FF-FF-FE-FF-B3-6E-64"""
    
    # 下载采集工作站配置数据
    frameHexString = """62-65-01-00-00-00-98-09-00-00-90-06-04-00-00-5B-04-00-00-04-00-00-00-0A-03-04-6E-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-03-05-00-00-3C-00-00-00-58-02-00-00-08-00-00-00-52-42-0F-00-0D-00-00-00-01-00-00-00-31-5F-31-00-00-00-00-00-00-00-00-00-53-42-0F-00-0D-00-00-00-01-00-00-00-31-5F-32-00-00-00-00-00-00-00-00-00-54-42-0F-00-0D-00-00-00-01-00-00-00-31-5F-33-00-00-00-00-00-01-00-00-00-0D-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-01-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-55-42-0F-00-0D-00-00-00-01-00-00-00-31-5F-34-00-00-00-00-00-01-00-00-00-0D-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-01-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-56-42-0F-00-0D-00-00-00-01-00-00-00-31-5F-35-00-00-00-00-00-00-00-00-00-57-42-0F-00-0D-00-00-00-01-00-00-00-31-5F-36-00-00-00-00-00-00-00-00-00-58-42-0F-00-0D-00-00-00-01-00-00-00-31-5F-37-00-00-00-00-00-00-00-00-00-59-42-0F-00-0D-00-00-00-01-00-00-00-31-5F-38-00-00-00-00-00-00-00-00-00-10-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-31-5F-31-00-00-00-00-00-33-5F-31-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-01-00-00-00-01-00-00-00-01-00-00-00-65-00-00-00-00-00-20-45-00-00-00-00-00-08-00-00-00-00-00-00-3C-00-00-00-70-17-00-00-E8-03-00-00-00-00-00-00-00-00-80-3F-00-40-1C-46-00-00-00-00-05-00-00-00-0B-00-00-00-00-00-00-00-0C-00-00-00-00-00-00-00-0D-00-00-00-00-00-00-00-0F-00-00-00-00-00-00-00-10-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-31-5F-32-00-00-00-00-00-33-5F-31-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-01-00-00-00-01-00-00-00-02-00-00-00-65-00-00-00-00-00-20-45-00-00-00-00-00-08-00-00-00-00-00-00-3C-00-00-00-70-17-00-00-E8-03-00-00-00-00-00-00-00-00-80-3F-00-40-1C-46-00-00-00-00-05-00-00-00-0B-00-00-00-00-00-00-00-0C-00-00-00-00-00-00-00-0D-00-00-00-00-00-00-00-0F-00-00-00-00-00-00-00-10-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-31-5F-33-00-00-00-00-00-33-5F-31-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-01-00-00-00-01-00-00-00-03-00-00-00-65-00-00-00-00-00-20-45-00-00-00-00-00-08-00-00-00-00-00-00-3C-00-00-00-70-17-00-00-E8-03-00-00-00-00-00-00-00-00-80-3F-00-40-1C-46-00-00-00-00-05-00-00-00-0B-00-00-00-14-00-00-00-0C-00-00-00-00-00-00-00-0D-00-00-00-14-00-00-00-0F-00-00-00-00-00-00-00-10-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-31-5F-34-00-00-00-00-00-33-5F-31-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-01-00-00-00-01-00-00-00-04-00-00-00-65-00-00-00-00-00-20-45-00-00-00-00-00-08-00-00-00-00-00-00-3C-00-00-00-70-17-00-00-E8-03-00-00-00-00-00-00-00-00-80-3F-00-40-1C-46-00-00-00-00-05-00-00-00-0B-00-00-00-14-00-00-00-0C-00-00-00-00-00-00-00-0D-00-00-00-14-00-00-00-0F-00-00-00-00-00-00-00-10-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-31-5F-35-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-01-00-00-00-01-00-00-00-05-00-00-00-65-00-00-00-00-00-20-45-00-00-00-00-00-08-00-00-00-00-00-00-3C-00-00-00-70-17-00-00-E8-03-00-00-00-00-00-00-00-00-80-3F-00-40-1C-46-00-00-00-00-05-00-00-00-0B-00-00-00-00-00-00-00-0C-00-00-00-00-00-00-00-0D-00-00-00-00-00-00-00-0F-00-00-00-00-00-00-00-10-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-31-5F-36-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-01-00-00-00-01-00-00-00-06-00-00-00-65-00-00-00-00-00-20-45-00-00-00-00-00-08-00-00-00-00-00-00-3C-00-00-00-70-17-00-00-E8-03-00-00-00-00-00-00-00-00-80-3F-00-40-1C-46-00-00-00-00-05-00-00-00-0B-00-00-00-00-00-00-00-0C-00-00-00-00-00-00-00-0D-00-00-00-00-00-00-00-0F-00-00-00-00-00-00-00-10-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-31-5F-37-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-01-00-00-00-01-00-00-00-07-00-00-00-65-00-00-00-00-00-20-45-00-00-00-00-00-08-00-00-00-00-00-00-3C-00-00-00-70-17-00-00-E8-03-00-00-00-00-00-00-00-00-80-3F-00-40-1C-46-00-00-00-00-05-00-00-00-0B-00-00-00-00-00-00-00-0C-00-00-00-00-00-00-00-0D-00-00-00-00-00-00-00-0F-00-00-00-00-00-00-00-10-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-31-5F-38-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-01-00-00-00-01-00-00-00-08-00-00-00-65-00-00-00-00-00-20-45-00-00-00-00-00-08-00-00-00-00-00-00-3C-00-00-00-70-17-00-00-E8-03-00-00-00-00-00-00-00-00-80-3F-00-40-1C-46-00-00-00-00-05-00-00-00-0B-00-00-00-00-00-00-00-0C-00-00-00-00-00-00-00-0D-00-00-00-00-00-00-00-0F-00-00-00-00-00-00-00-10-00-00-00-00-00-00-00-00-AA-AA-AA-AA-AA-AA-AA-AA-AA-AA-AB-32-5F-31-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-01-00-00-00-02-00-00-00-01-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-80-3F-00-00-C8-42-00-00-00-00-01-00-00-00-0A-00-00-00-00-00-00-00-00-AA-AA-AA-AA-AA-AA-AA-AA-AA-AA-AC-33-5F-31-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-01-00-00-00-03-00-00-00-01-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-02-00-00-00-00-00-80-3F-00-00-80-3F-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-35-5F-31-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-01-00-00-00-05-00-00-00-01-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-80-3F-00-00-80-3F-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-35-5F-32-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-05-00-00-00-02-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-80-3F-00-00-80-3F-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-35-5F-33-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-05-00-00-00-03-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-80-3F-00-00-80-3F-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-35-5F-34-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-05-00-00-00-04-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-80-3F-00-00-80-3F-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-35-5F-35-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-01-00-00-00-05-00-00-00-05-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-80-3F-00-00-80-3F-00-00-00-00-00-00-00-00-00-AA-AA-AA-AA-AA-AA-AA-AA-AA-AA-AD-35-5F-36-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-01-00-00-00-05-00-00-00-06-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-00-80-3F-00-00-80-3F-00-00-00-00-00-00-00-00-DD-6E-64"""
    split = '-'
    # structtypeid: 1116, 空的下载采集工作站配置数据
    frameHexString = "6265010000004400000045060400005c040000040000000acec8ca00000000000000000000000000000000000000000000000000000000017d00003c0000003c000000000000000000000000000000e46e64"
    split = ''
    
    # 单点数据
    frameHexString = """626501000000500000005130040000e9030000e5070208010f0524559413000ace653d04000000010000000000000000000000e5070208010f05240000000000000000000048460000000001000000e29ae03801000000e29ae0389b6e64"""
    split = ''

    # wave data
    frameHexString = """6265010000005c0800005530040000ea030000e5070208010f05138d8713000ace653d04000000020000000100000000000000e5070208010f05130004000000000000000048460000000001000000916310390100000091631039805800370200000000080000060005000600090007000600070005000800070007000700070008000800070007000700070007000600070005000600070005000500080006000700070005000700ffff0000ffff0000000001000100050005000800050009000700050006000500050009000a000d000c000b0009000a0008000900050006000700040001000300030006000a000a000b000d000d000d000d000800070006000600060004000600050007000900090007000a000c00090009000500070009000b0009000b000a000a000600080008000900050008000600080007000800080007000900050007000700070007000700090008000500090005000600060007000800070008000700070006000600070005000500070007000600080006000500060009000500060008000700060005000800050008000500040008000200060006000500070007000b000f000e0011000d0010000d000a0008000800070007000a000a0007000800070004000200030002000200020004000300010007000600060009000b00090009000800060001000400020002000100010001000500050008000600060007000700060005000700030004000400060005000500040004000500050003000400050005000400040004000500060008000700070007000500060005000500070004000600050004000900070007000500060005000600070006000600070007000500050006000400070006000600080008000700040003000600070005000800070006000500060005000700040006000700070008000700050007000500080000000000fefffeff00000000000005000600060008000600040008000600060006000a0007000a000b000d000a000a000a0007000800070002000300030003000300060008000a000b000c000c000a000d000a0009000700040006000700040007000a00090009000b0009000800080008000a000a000a000a000a0008000b000b000a0008000800090007000900060007000700060008000500060008000900050007000800060007000700070007000900070007000800070007000600060005000700090006000500080008000700070004000800070007000500060008000600060008000700060007000700060008000400070006000500050005000a000e00100010000f000e000f000b000900080006000600070007000700060003000500040004000000030001000300040005000500050005000700080007000a000b00070005000200030000000100010002000300050006000600060007000700070004000300050002000500080003000500040007000300040004000300030003000400060004000500060006000600070003000700060007000500050007000800050006000600060005000600050007000700060006000700060007000600040006000700080006000500060008000600050006000500070004000700050006000500060005000500050005000700070008000800070004000800050005000100feff0000000000000300020005000600070007000500070006000500060009000a00090009000b000c000b0009000b000a000800060006000300020003000500070008000b000b000c000b000d000a000a000a0007000700050004000700070008000b000a0009000b000800080007000800080009000a000b000a0008000900090009000800060009000700080009000800070008000b000700060008000700050007000600060008000800080007000500060006000800040007000700050006000600050006000500070008000500050007000700080007000700080007000600080007000a0005000700080007000600070006000a000400060007000f00100012000f000e000e0008000900080006000700070009000a000800070005000400040002000000050004000200030003000600040007000a000b000a000a0005000600030002000200000000000400030005000900050008000600070006000400030005000200050005000600060005000400040003000400010004000400050002000300060003000500060007000600060007000600050008000600070007000500060007000900080009000700060006000500060006000a000400040004000400050006000700070005000600080007000600070006000600080009000700060004000800050005000600080008000500070007000700090007000000ffff0000000002000100020007000700070005000500060007000600040008000a000d000a000a000b000a0009000b0008000900050007000200040004000300050009000b000d000d000b000b000c000700080005000600080007000700060008000a000a000b0009000a00060007000900080009000a0008000b000b0009000a0008000800090009000800050008000700060007000600080009000800050009000700070009000600080006000600080007000800050007000500060009000700080005000800080006000600040006000700070007000600070005000600070008000600070007000900090007000500050006000600080005000d0010000f0011000f000c000f0008000800060007000a00090009000800070005000600040003000200000003000300040004000400050007000b0009000b000b000a000600030004000100020001000300020002000600060008000a000800060006000800050003000300030005000500050005000300050002000500040004000800040005000300040006000400050005000500060006000300050006000500070004000700060006000600070006000500070005000500080006000500be6e64"""
    import sys
    print("sys.path[0] = ", sys.path[0])
    print("sys.argv[0] = ", sys.argv[0])
    """
    print("__file__ = ", __file__)
    print("os.path.abspath(__file__) = ", os.path.abspath(__file__))
    print("os.path.realpath(__file__) = ", os.path.realpath(__file__))
    print("os.path.dirname(os.path.realpath(__file__)) = ", 
        os.path.dirname(os.path.realpath(__file__)))
    print("os.path.split(os.path.realpath(__file__)) = ", 
        os.path.split(os.path.realpath(__file__)))
    print("os.path.split(os.path.realpath(__file__))[0] = ", 
        os.path.split(os.path.realpath(__file__))[0])
    print("os.getcwd() = ", os.getcwd())

    """

    # https://www.runoob.com/python/file-methods.html
    # 8192长度的波形，字节数32768左右，字符串长度65740。
    # basedir = "D:\\angular-projects\\https-github.com-m15666666-TestCode-DotNet\\Zx2642UtilsScripts\\Script\\解析2642中与采集工作站通讯的字节数组\\"
    basedir = sys.path[0]
    wavefile = "wave1.txt" # 8192长度的波形，字节数32768左右，字符串长度65740。
    wavefile = "wave-tcpdump.txt" # tcpdump captured wave
    wavefile = "2021-02-26-tcpdump.txt" # tcpdump captured wave
    filepath = os.path.join(basedir, wavefile)
    fo = open(filepath, "r")
    line = fo.readline()
    fo.close()

    frameHexString = line

    parser = ParserFor2642(frameHexString,split)
    parser.printParseResult()