/*
ç»™å®šä¸€ä¸ªåŒ…å«å¤§å†™å­—æ¯å’Œå°å†™å­—æ¯çš„å­—ç¬¦ä¸²ï¼Œæ‰¾åˆ°é€šè¿‡è¿™äº›å­—æ¯æ„é€ æˆçš„æœ€é•¿çš„å›æ–‡ä¸²ã€‚

åœ¨æ„é€ è¿‡ç¨‹ä¸­ï¼Œè¯·æ³¨æ„åŒºåˆ†å¤§å°å†™ã€‚æ¯”å¦‚Â "Aa"Â ä¸èƒ½å½“åšä¸€ä¸ªå›æ–‡å­—ç¬¦ä¸²ã€‚

æ³¨æ„:
å‡è®¾å­—ç¬¦ä¸²çš„é•¿åº¦ä¸ä¼šè¶…è¿‡ 1010ã€‚

ç¤ºä¾‹ 1:

è¾“å…¥:
"abccccdd"

è¾“å‡º:
7

è§£é‡Š:
æˆ‘ä»¬å¯ä»¥æ„é€ çš„æœ€é•¿çš„å›æ–‡ä¸²æ˜¯"dccaccd", å®ƒçš„é•¿åº¦æ˜¯ 7ã€‚

*/

/// <summary>
/// https://leetcode-cn.com/problems/longest-palindrome/
/// 409. æœ€é•¿å›æ–‡ä¸²
///
/// </summary>
internal class LongestPalindromeSolution
{
    public void Test()
    {
        //int[] nums = new int[] {3, 2, 4};
        //int k = 6;
        //var ret = LevelOrder((int[]) nums.Clone(), k);

        //Console.WriteLine(string.Join(",", ret.Select(v => v.ToString())));
    }

    public int LongestPalindrome(string s)
    {
        int[] counts = new int[58];
        foreach (char c in s) counts[c - 'A']++;

        int ret = 0;
        foreach (int x in counts) ret += x - (x & 1);
        return ret < s.Length ? ret + 1 : ret;
    }
}

/*
æœ€é•¿å›æ–‡ä¸²
åŠ›æ‰£å®˜æ–¹é¢˜è§£
å‘å¸ƒäº 2020-03-18
38.2k
ğŸ“º è§†é¢‘é¢˜è§£

ğŸ“– æ–‡å­—é¢˜è§£
æ–¹æ³•ä¸€ï¼šè´ªå¿ƒ
æ€è·¯

å›æ–‡ä¸²æ˜¯ä¸€ä¸ªæ­£ç€è¯»å’Œåç€è¯»éƒ½ä¸€æ ·çš„å­—ç¬¦ä¸²ã€‚ä»¥å›æ–‡ä¸­å¿ƒä¸ºåˆ†ç•Œçº¿ï¼Œå¯¹äºå›æ–‡ä¸²ä¸­å·¦ä¾§çš„å­—ç¬¦ chï¼Œåœ¨å³ä¾§å¯¹ç§°çš„ä½ç½®ä¹Ÿä¼šå‡ºç°åŒæ ·çš„å­—ç¬¦ã€‚ä¾‹å¦‚åœ¨å­—ç¬¦ä¸² "abba" ä¸­ï¼Œå›æ–‡ä¸­å¿ƒæ˜¯ "ab|ba" ä¸­ç«–çº¿çš„ä½ç½®ï¼Œè€Œåœ¨å­—ç¬¦ä¸² "abcba" ä¸­ï¼Œå›æ–‡ä¸­å¿ƒæ˜¯ "ab(c)ba" ä¸­çš„å­—ç¬¦ "c" æœ¬èº«ã€‚æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œåœ¨ä¸€ä¸ªå›æ–‡ä¸²ä¸­ï¼Œåªæœ‰æœ€å¤šä¸€ä¸ªå­—ç¬¦å‡ºç°äº†å¥‡æ•°æ¬¡ï¼Œå…¶ä½™çš„å­—ç¬¦éƒ½å‡ºç°å¶æ•°æ¬¡ã€‚

é‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•é€šè¿‡ç»™å®šçš„å­—ç¬¦æ„é€ ä¸€ä¸ªå›æ–‡ä¸²å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å°†æ¯ä¸ªå­—ç¬¦ä½¿ç”¨å¶æ•°æ¬¡ï¼Œä½¿å¾—å®ƒä»¬æ ¹æ®å›æ–‡ä¸­å¿ƒå¯¹ç§°ã€‚åœ¨è¿™ä¹‹åï¼Œå¦‚æœæœ‰å‰©ä½™çš„å­—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥å†å–å‡ºä¸€ä¸ªï¼Œä½œä¸ºå›æ–‡ä¸­å¿ƒã€‚

ç®—æ³•

å¯¹äºæ¯ä¸ªå­—ç¬¦ chï¼Œå‡è®¾å®ƒå‡ºç°äº† v æ¬¡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¯¥å­—ç¬¦ v / 2 * 2 æ¬¡ï¼Œåœ¨å›æ–‡ä¸²çš„å·¦ä¾§å’Œå³ä¾§åˆ†åˆ«æ”¾ç½® v / 2 ä¸ªå­—ç¬¦ chï¼Œå…¶ä¸­ / ä¸ºæ•´æ•°é™¤æ³•ã€‚ä¾‹å¦‚è‹¥ "a" å‡ºç°äº† 5 æ¬¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ "a" çš„æ¬¡æ•°ä¸º 4ï¼Œå›æ–‡ä¸²çš„å·¦å³ä¸¤ä¾§åˆ†åˆ«æ”¾ç½® 2 ä¸ª "a"ã€‚

å¦‚æœæœ‰ä»»ä½•ä¸€ä¸ªå­—ç¬¦ ch çš„å‡ºç°æ¬¡æ•° v ä¸ºå¥‡æ•°ï¼ˆå³ v % 2 == 1ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥å°†è¿™ä¸ªå­—ç¬¦ä½œä¸ºå›æ–‡ä¸­å¿ƒï¼Œæ³¨æ„åªèƒ½æœ€å¤šæœ‰ä¸€ä¸ªå­—ç¬¦ä½œä¸ºå›æ–‡ä¸­å¿ƒã€‚åœ¨ä»£ç ä¸­ï¼Œæˆ‘ä»¬ç”¨ ans å­˜å‚¨å›æ–‡ä¸²çš„é•¿åº¦ï¼Œç”±äºåœ¨éå†å­—ç¬¦æ—¶ï¼Œans æ¯æ¬¡ä¼šå¢åŠ  v / 2 * 2ï¼Œå› æ­¤ ans ä¸€ç›´ä¸ºå¶æ•°ã€‚ä½†åœ¨å‘ç°äº†ç¬¬ä¸€ä¸ªå‡ºç°æ¬¡æ•°ä¸ºå¥‡æ•°çš„å­—ç¬¦åï¼Œæˆ‘ä»¬å°† ans å¢åŠ  1ï¼Œè¿™æ · ans å˜ä¸ºå¥‡æ•°ï¼Œåœ¨åé¢å‘ç°å…¶å®ƒå‡ºç°å¥‡æ•°æ¬¡çš„å­—ç¬¦æ—¶ï¼Œæˆ‘ä»¬å°±ä¸æ”¹å˜ ans çš„å€¼äº†ã€‚


class Solution {
    public int longestPalindrome(String s) {
        int[] count = new int[128];
        int length = s.length();
        for (int i = 0; i < length; ++i) {
            char c = s.charAt(i);
            count[c]++;
        }

        int ans = 0;
        for (int v: count) {
            ans += v / 2 * 2;
            if (v % 2 == 1 && ans % 2 == 0) {
                ans++;
            }
        }
        return ans;
    }
}
å¤æ‚åº¦åˆ†æ

æ—¶é—´å¤æ‚åº¦ï¼šO(N)O(N)ï¼Œå…¶ä¸­ NN ä¸ºå­—ç¬¦ä¸² s çš„é•¿åº¦ã€‚æˆ‘ä»¬éœ€è¦éå†æ¯ä¸ªå­—ç¬¦ä¸€æ¬¡ã€‚

ç©ºé—´å¤æ‚åº¦ï¼šO(S)O(S)ï¼Œå…¶ä¸­ SS ä¸ºå­—ç¬¦é›†å¤§å°ã€‚åœ¨ Java ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªé•¿åº¦ä¸º 128 çš„æ•°ç»„ï¼Œå­˜å‚¨æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°ï¼Œè¿™æ˜¯å› ä¸ºå­—ç¬¦çš„ ASCII å€¼çš„èŒƒå›´ä¸º [0, 128)ã€‚è€Œç”±äºé¢˜ç›®ä¸­ä¿è¯äº†ç»™å®šçš„å­—ç¬¦ä¸² s åªåŒ…å«å¤§å°å†™å­—æ¯ï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å“ˆå¸Œæ˜ å°„ï¼ˆHashMapï¼‰æ¥å­˜å‚¨æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°ï¼Œä¾‹å¦‚ Python å’Œ C++ çš„ä»£ç ã€‚å¦‚æœä½¿ç”¨å“ˆå¸Œæ˜ å°„ï¼Œæœ€å¤šåªä¼šå­˜å‚¨ 52 ä¸ªï¼ˆå³å°å†™å­—æ¯ä¸å¤§å†™å­—æ¯çš„æ•°é‡ä¹‹å’Œï¼‰é”®å€¼å¯¹ã€‚

Javaçš„2ç§å®ç°æ–¹æ³•~
Sweetiee ğŸ¬
å‘å¸ƒäº 2020-03-19
9.2k
UPDATE: ç±³å¨œæ¡‘ä¸‹åˆå¥½ï½ï½ åˆšåˆšæˆ‘åœ¨å…¬ä¼—å·ã€ç”œå§¨çš„å¥‡å¦™å†’é™©ã€‘æ›´æ–°äº†æœ¬é¢˜æ›´è¯¦ç»†çš„é¢˜è§£ï¼Œå¾ˆå¤šå°tipsç­‰ä½ æ¥å–å—·ï½ï½ï¼Œæ¬¢è¿å¤§å®¶å›´è§‚â¤ï¸

-----s

ğŸ™‹ä»Šæ—¥æ‰“å¡~å› ä¸ºå†™äº†2ç§é£æ ¼çš„ä»£ç æ‰€ä»¥æ…¢äº†ç‚¹~
è¿™é¢˜å…¶å®æ˜¯æ„é€ æ€§çš„é¢˜ç›®ï¼Œæ‰€ä»¥åªéœ€è¦å°½å¯èƒ½çš„å·¦å³å¯¹ç§°åœ°æ„é€ å­—ç¬¦ä¸²å°±è¡Œäº†ï¼Œæ‰€ä»¥å›æ–‡ä¸²é‡Œæ¯ç§å­—ç¬¦éƒ½å‡ºç°äº†å¶æ•°æ¬¡ï¼Œé™¤äº†å¥‡æ•°é•¿åº¦çš„å›æ–‡ä¸²çš„æ—¶å€™æœ€ä¸­é—´çš„é‚£ä¸ªå­—ç¬¦å¯ä»¥å‡ºç°å¥‡æ•°æ¬¡ã€‚
æ¯”å¦‚å›æ–‡ä¸² abbaï¼Œæ¯ä¸ªå­—ç¬¦éƒ½å‡ºç°äº†å¶æ•°æ¬¡ã€‚è€Œå¥‡æ•°é•¿åº¦çš„å›æ–‡ä¸²abcbcbcbaï¼Œcå‡ºç°äº†å¥‡æ•°æ¬¡ã€‚

å…ˆæ˜¯åˆ©ç”¨intæ•°ç»„è®¡æ•°çš„æ–¹æ³•ï¼š


class Solution {
    public int longestPalindrome(String s) {
      int[] cnt = new int[58];
      for (char c : s.toCharArray()) {
        cnt[c - 'A'] += 1;
      }

      int ans = 0;
      for (int x: cnt) {
        // å­—ç¬¦å‡ºç°çš„æ¬¡æ•°æœ€å¤šç”¨å¶æ•°æ¬¡ã€‚
        ans += x - (x & 1);
      }
      // å¦‚æœæœ€ç»ˆçš„é•¿åº¦å°äºåŸå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œè¯´æ˜é‡Œé¢æŸä¸ªå­—ç¬¦å‡ºç°äº†å¥‡æ•°æ¬¡ï¼Œé‚£ä¹ˆé‚£ä¸ªå­—ç¬¦å¯ä»¥æ”¾åœ¨å›æ–‡ä¸²çš„ä¸­é—´ï¼Œæ‰€ä»¥é¢å¤–å†åŠ ä¸€ã€‚
      return ans < s.length() ? ans + 1 : ans;  
    }
}
ç„¶åå¯ä»¥ç”¨Java8çš„æµå¼é£æ ¼æ¥å†™ï¼Œå¥½åƒæ˜¯åœ¨å°æ•°æ®é›†ä¸Šç”¨streamä¼šæ¯”è¾ƒæ…¢ï¼Œè¿™æ ·å†™çš„è€—æ—¶ä¼šé•¿ä¸€ç‚¹ã€‚
å¯ä»¥å­¦ä¹ ä¸‹streamçš„å†™æ³•~

public class Solution {
    public int LongestPalindrome(string s) {
        if(string.IsNullOrEmpty(s)) return 0;
        if(s.Length == 1) return 1;
        var dic = new Dictionary<char,int>();
        foreach(var item in s)
        {
            if(dic.ContainsKey(item)) dic[item]++;
            else dic.Add(item,1);
        }

        var sum = 0;
        var hasSingle = false;
        foreach(var item in dic)
        {
            var value = item.Value / 2 * 2;         
            sum += value;
            if(!hasSingle && item.Value != value) hasSingle = true;           
        }

        return hasSingle ? sum + 1 : sum ;
    }
}



class Solution {
    public int longestPalindrome(String s) {
      Map<Integer, Integer> count = s.chars().boxed()
            .collect(Collectors.toMap(k -> k, v -> 1, Integer::sum));

      int ans = count.values().stream().mapToInt(i -> i - (i & 1)).sum();
      return ans < s.length() ? ans + 1 : ans;
    }
}
*/